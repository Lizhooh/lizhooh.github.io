<!DOCTYPE html>
<html>
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="referrer" content="never">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="lizhooh">
    <meta name="google" content="notranslate">
    <meta name="url" content="http://me.lizhooh.com">
    <link rel="manifest" href="/manifest.json">
    
    
    
    <link rel="canonical" href="http://me.lizhooh.com/stories/2019/08/前端/谈谈 BFF 技术架构/">
    
    
    <title>谈谈 BFF 技术架构 | Lizhooh 的技术博客 | 来至未来的大全栈工程师自我修养日记。深耕于：数据中台、智能运营、智能推荐、用户数据分析、用户数据治理等大数据领域。</title>
    
    <meta name="keywords" content="Lizhooh 的博客，我的博客，我来作主 &lt;br /&gt; 专注于研究：大前端开发领域，Nodejs 后端开发，混合式移动应用开发，Javascript 全栈式开发，数据挖掘与可视化 等技术。">
    <meta name="description" content="前言随着互联网产品多终端，多平台，多业务状态，多角色等方面的发展，前后端数据交互越发越复杂。可能面临的是同一份数据，在不同的终端（Web/PC/Android/iOS/小程序等）上以不同的形态和结构，在多种场景下被消费。 在前端开发中普遍存在的难问题：  多端应用，不同类型客户端对数据、API 有个性化的需求。 后端提供的接口数据，难以一次性的支撑单个 UI 渲染。 服务聚合，单一后端为多个前端团">
<meta name="keywords" content="前端">
<meta property="og:type" content="article">
<meta property="og:title" content="谈谈 BFF 技术架构">
<meta property="og:url" content="http://me.lizhooh.com/stories/2019/08/前端/谈谈 BFF 技术架构/index.html">
<meta property="og:site_name" content="Lizhooh 的技术博客">
<meta property="og:description" content="前言随着互联网产品多终端，多平台，多业务状态，多角色等方面的发展，前后端数据交互越发越复杂。可能面临的是同一份数据，在不同的终端（Web/PC/Android/iOS/小程序等）上以不同的形态和结构，在多种场景下被消费。 在前端开发中普遍存在的难问题：  多端应用，不同类型客户端对数据、API 有个性化的需求。 后端提供的接口数据，难以一次性的支撑单个 UI 渲染。 服务聚合，单一后端为多个前端团">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730135811.jpg">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190809200236.jpg">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190809200230.jpg">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190809194554.jpg">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190809194545.jpg">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730164530.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730165054.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730165223.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730165552.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730165809.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730150019.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730151240.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730153259.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730153304.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730153516.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730154210.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730154651.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730154656.png">
<meta property="og:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730155905.png">
<meta property="og:updated_time" content="2021-06-15T06:10:52.907Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="谈谈 BFF 技术架构">
<meta name="twitter:description" content="前言随着互联网产品多终端，多平台，多业务状态，多角色等方面的发展，前后端数据交互越发越复杂。可能面临的是同一份数据，在不同的终端（Web/PC/Android/iOS/小程序等）上以不同的形态和结构，在多种场景下被消费。 在前端开发中普遍存在的难问题：  多端应用，不同类型客户端对数据、API 有个性化的需求。 后端提供的接口数据，难以一次性的支撑单个 UI 渲染。 服务聚合，单一后端为多个前端团">
<meta name="twitter:image" content="http://me.lizhooh.com/assets/image/2019/8/20190730135811.jpg">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=2.2.0">
    <link href="//lib.baomitu.com/tippy.js/3.0.2/themes/light.css" rel="stylesheet">

    <!--<script src="/js/vconsole.min.js"></script> -->
    <script>
        window.lazyScripts=[];
    </script>

    <script>
    function IEVersion(){var e=navigator.userAgent;var b=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1;var d=e.indexOf("Edge")>-1&&!b;var f=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(b){var a=new RegExp("MSIE (\\d+\\.\\d+);");a.test(e);var c=parseFloat(RegExp["$1"]);return c>=7&&c<=10?c:6}else{return -1}}if(IEVersion()!==-1){var text="检测到你使用的是 IE "+IEVersion()+" 内核浏览器，本博客使用了最新的前端技术，为了获得最佳的体验，请使用 Chrome、Opera、Firefox 等现代浏览器打开。";alert(text)};
    </script>
</head>


<body>
    <script>
        + function () {
            var S = window.localStorage;

            var theme = S.getItem('theme');
            var body = document.querySelector('body');
            if (body === null) {
                console.log('找不到 body 节点');
                return;
            }
            if (theme === 'night') {
                body.classList.add('night-mode');
            }

            function setTheme() {
                var theme = S.getItem('theme');
                var body = document.querySelector('body');
                if (body === null) {
                    console.log('找不到 body 节点');
                    return;
                }
                if (theme !== 'night') {
                    body.classList.add('night-mode');
                    S.setItem('theme', 'night');
                }
                else {
                    body.classList.remove('night-mode');
                    S.setItem('theme', 'not-night');
                }
            }

            function load() {
                var path = window.location.pathname;
                var theme = document.querySelector('#theme-toggle');
                theme.onclick = setTheme;

                if (document.body.clientWidth < 960) {
                    return;
                }

                // if (!/\/\d{2,4}/.test(window.location.pathname)) {
                //     return;
                // }

                if (!(path === '/' || /\/page\//.test(path))) {
                    return;
                }
            }
            window.onload = load;
        } ();
    </script>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/my.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname" style="font-weight: bold">Lizhooh</h5>
          <span>
            <a href="mailto:lizhoohs@foxmail.com" title="lizhoohs@foxmail.com" class="mail">lizhoohs@foxmail.com</a>
          </span>

          <div style="margin-top: 5px; font-size: 92%"><b>337 篇文章，共 387.4k 字</b></div>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <span class="icon-view">
                    <i class="icon icon-lg icon-home"></i>
                </span>
                <span class="text-view">
                    主页
                </span>
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags/ES6-ES2015/"  >
                <span class="icon-view">
                    <i class="icon icon-lg icon-tags"></i>
                </span>
                <span class="text-view">
                    标签
                </span>
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/ES6"  >
                <span class="icon-view">
                    <i class="icon icon-lg icon-th-list"></i>
                </span>
                <span class="text-view">
                    分类
                </span>
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/menu/about.html"  >
                <span class="icon-view">
                    <i class="icon icon-lg icon-user"></i>
                </span>
                <span class="text-view">
                    关于
                </span>
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/menu/book.html"  >
                <span class="icon-view">
                    <i class="icon icon-lg icon-book"></i>
                </span>
                <span class="text-view">
                    创作
                </span>
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/menu/npm.html"  >
                <span class="icon-view">
                    <i class="icon icon-lg icon-google"></i>
                </span>
                <span class="text-view">
                    Npm
                </span>
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Lizhooh" target="_blank" >
                <span class="icon-view">
                    <i class="icon icon-lg icon-github"></i>
                </span>
                <span class="text-view">
                    Github
                </span>
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>


    <main id="main">
        <header class="top-header" id="header">
    <!-- 正文 -->
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">谈谈 BFF 技术架构</div>

        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search" title="搜索">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="theme-toggle" title="夜间模式">
          <i class="icon icon-lg icon-moon-o" style="font-weight: bold"></i>
        </a>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on">
            <i class="icon icon-lg icon-share-alt" style="font-weight: bold"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header" style="">

    <!--<div class="container fade-scale">-->
    <div class="container" id="container-header">
        <h1 class="title">谈谈 BFF 技术架构</h1>

        <div class="meta-rest">
            <h1>谈谈 BFF 技术架构</h1>
            <section>
                <img src="/img/my.png" class="avatar" />
                <div sty>
                    <span class="name">Lizhooh</span>
                    <span class="summary">前端开发者</span>
                    <span class="summary">温故而知新，可以为师矣。</span>
                </div>
            </section>
        </div>

        <h3 class="subtitle">
            
                <time datetime="2019-08-10T02:08:40.000Z" itemprop="datePublished" class="page-time">
    2019-08-10
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul>


            
        </h3>
    </div>

    

</header>


<div class="container body-wrap">
    


    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BFF-介绍"><span class="post-toc-number">2.</span> <span class="post-toc-text">BFF 介绍</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在没有-BFF-的前后端架构"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">在没有 BFF 的前后端架构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#引入了-BFF-之后"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">引入了 BFF 之后</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#服务自治，谁使用谁开发"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">服务自治，谁使用谁开发</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#用户体验适配层"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">用户体验适配层</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BFF-演化历程"><span class="post-toc-number">3.</span> <span class="post-toc-text">BFF 演化历程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#服务化架构-V1"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">服务化架构 V1</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#服务化架构-V2"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">服务化架构 V2</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#微服务架构-V3"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">微服务架构 V3</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#微服务架构-V4"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">微服务架构 V4</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BFF-具体实现"><span class="post-toc-number">4.</span> <span class="post-toc-text">BFF 具体实现</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#细分力度"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">细分力度</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对接下游服务"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">对接下游服务</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#复用问题"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">复用问题</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#蚂蚁财富的-BFF-实践"><span class="post-toc-number">5.</span> <span class="post-toc-text">蚂蚁财富的 BFF 实践</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#解决了的问题"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">解决了的问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-Nodejs-与-Java-通信"><span class="post-toc-number">5.1.1.</span> <span class="post-toc-text">1. Nodejs 与 Java 通信</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-多-App-适配"><span class="post-toc-number">5.1.2.</span> <span class="post-toc-text">2. 多 App 适配</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-数据聚合"><span class="post-toc-number">5.1.3.</span> <span class="post-toc-text">3. 数据聚合</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-接口设计准则"><span class="post-toc-number">5.1.4.</span> <span class="post-toc-text">4. 接口设计准则</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-从技术角度来看"><span class="post-toc-number">5.1.5.</span> <span class="post-toc-text">5. 从技术角度来看</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#TWA-的理念与实践"><span class="post-toc-number">6.</span> <span class="post-toc-text">TWA 的理念与实践</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BFF-下-Nodejs-与-Java-的通信"><span class="post-toc-number">7.</span> <span class="post-toc-text">BFF 下 Nodejs 与 Java 的通信</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#蚂蚁金服的实践-RPC"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">蚂蚁金服的实践 - RPC</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#有赞的实践-HTTP"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">有赞的实践 - HTTP</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#小结"><span class="post-toc-number">8.</span> <span class="post-toc-text">小结</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">9.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        </nav>
    </aside>
    

<article id="post-前端/谈谈 BFF 技术架构"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">谈谈 BFF 技术架构</h1>
        <div class="post-meta">
            <time class="post-time" title="2019 年 08 月 10 日 10:08" datetime="2019-08-10T02:08:40.000Z"  itemprop="datePublished">
    2019-08-10
</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul>



            <span style="color: dodgerblue">
                字数：<span style="font-size: 14px;"> 4670</span>
            </span>
            <span>
                阅读预计<span style="font-size: 14px; color: orange;">  40  </span> 分钟
            </span>
        </div>

        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>随着互联网产品多终端，多平台，多业务状态，多角色等方面的发展，前后端数据交互越发越复杂。可能面临的是同一份数据，在不同的终端（Web/PC/Android/iOS/小程序等）上以不同的形态和结构，在多种场景下被消费。</p>
<p><strong>在前端开发中普遍存在的难问题：</strong></p>
<ul>
<li>多端应用，不同类型客户端对数据、API 有个性化的需求。</li>
<li>后端提供的接口数据，难以一次性的支撑单个 UI 渲染。</li>
<li>服务聚合，单一后端为多个前端团队提供接口，导致跨团队协作低效，资源协调困难。</li>
</ul>
<p>问题：<strong>服务端（后端）设计的接口究竟是面向 UI，还是面向通用服务？</strong></p>
<p>实际上，后端往往不会专注于关心前端 UI 的数据展示结构，而是细分的服务化接口。前端更多在需要每个端里自行组合、过滤、转换后端提供的接口数据，才能足以支撑 UI 的渲染。</p>
<a id="more"></a>
<p>本文讲述了，引出了 BFF 来解决这些问题。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730135811.jpg" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h2 id="BFF-介绍"><a href="#BFF-介绍" class="headerlink" title="BFF 介绍"></a>BFF 介绍</h2><p>BFF，即 Backends For Frontends（服务于前端的后端），也就是服务器设计 API 时会考虑前端的使用，并在服务端直接进行业务逻辑的处理。BFF 也称为 <strong>数据适配层/数据中间层/用户体验适配层</strong>。</p>
<p>BFF 最适合的场景，为第三方提供定制 API 等差异化场景，每个用户体验（客户端）对应一个后端。这中后端更像是私人定制一样，能够最大程度的满足前端需要的数据结构要求。</p>
<h3 id="在没有-BFF-的前后端架构"><a href="#在没有-BFF-的前后端架构" class="headerlink" title="在没有 BFF 的前后端架构"></a>在没有 BFF 的前后端架构</h3><p>在传统的前后端设计中，通常是 App 或者 Web 端直接访问后端服务，后台微服务之间相互调用，然后返回最终的结果给前端消费。对于客户端（特别是移动端）来说，过多的 HTTP 请求是很昂贵的，所以开发过程中，为了尽量减少请求的次数，前端一般会倾向于把有关联的数据通过一个 API 获取。在微服务模式下，意味着有时为了迎合客户端的需求，服务器常会做一些与 UI 有关的逻辑处理。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190809200236.jpg" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h3 id="引入了-BFF-之后"><a href="#引入了-BFF-之后" class="headerlink" title="引入了 BFF 之后"></a>引入了 BFF 之后</h3><p>加入了 BFF 的前后端架构中，最大的区别就是前端（Mobile, Web）不再直接访问后端微服务，而是通过 BFF 层进行访问。并且每种客户端都会有一个BFF服务。从微服务的角度来看，有了 BFF 之后，微服务之间的相互调用更少了。这是因为一些UI的逻辑在 BFF 层进行了处理。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190809200230.jpg" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h3 id="服务自治，谁使用谁开发"><a href="#服务自治，谁使用谁开发" class="headerlink" title="服务自治，谁使用谁开发"></a>服务自治，谁使用谁开发</h3><p><strong>BFF 的理念中，最重要的一点是：服务自治，谁使用谁开发</strong>，所以一般由前端团队开发与维护。BFF 实现不限制具体技术，可以自由选型：<code>Java/Nodejs/PHP/Golang/Python</code>，但大部分前端团队都会选择 Nodejs，原因是：</p>
<ul>
<li>Nodejs 是使用 Javascript 编写代码的，可以让前端工程师更加无缝的切入 BFF 的建设。</li>
<li>Nodejs 天生的单线程异步机制，非常适合高并发的 IO 处理，在 v8 的光环下拥有不错的性能。</li>
<li>Javascript 拥有最好的 JSON 亲和性。</li>
<li>Javascript 的函数式编程，非常适合对数据的处理。</li>
</ul>
<blockquote>
<p><strong>既然这样，那么 Javascript 弱类型的缺点是不是需要担心的？</strong><br>这个问题，我们可以使用 Typescript 取代 Javascript 来开发，Typescript 是一个具有强大的类型系统语言，同时也完全的兼容 Javascript 最新的语法。<br>参考文章：<a href="https://www.infoq.cn/article/ju0CQDaem2y-d6Ak2e1o" target="_blank" rel="noopener">TypeScript 成新宠，JavaScript 或将被取代</a></p>
</blockquote>
<p><strong>在 BFF 模式下：</strong>团队整体分工很清晰，后端通过 Java 等语言负责服务实现，理想情况下给前端提供的是基于领域模型的 RPC/HTTP 接口，前端则在 BFF 层直接调用服务端 RPC/HTTP 接口拿到数据，按需加工消费数据，并实现人机交互。</p>
<blockquote>
<p>RPC 的指是：不在一个内存空间的两个应用，借助网络来实现，像调用本地的函数一样去调用远程函数。</p>
</blockquote>
<p>基于 BFF 模式的研发，很适合拥有前端技术背景的全栈型工程师。这种模式的好处很明显，后端可以专注于业务领域，更多从领域模型的视角去思考问题，页面视角的数据则交给前端型全栈工程师去搞定。</p>
<p><strong>领域模型与页面数据是两种思维模式</strong>，通过 BFF 可以很好地解耦开，让彼此更专业高效。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190809194554.jpg" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h3 id="用户体验适配层"><a href="#用户体验适配层" class="headerlink" title="用户体验适配层"></a>用户体验适配层</h3><p><strong>BFF 作为用户体验适配层，主要有以下作用：</strong></p>
<ul>
<li>对后端接口进行：组合、处理、校验。</li>
<li>对后端提供的数据进行：裁剪、拼接、格式化、聚合、编排。</li>
</ul>
<p>还有更多的可能：</p>
<ul>
<li><strong>代理</strong>：在开发环境下，我们可以利用代理来，解决最常见的跨域问题；在线上环境下，可以利用代理，转发请求到多个服务端。</li>
<li><strong>缓存</strong>：缓存其实是更靠近前端的需求，用户的动作触发数据的更新，BFF 可以直接处理一部分缓存需求。</li>
<li><strong>限流</strong>：BFF 可以针对接口或者路由做响应的限流。</li>
<li><strong>日志</strong>：相比其他服务端语言，BFF 的日志记录，能更方便快捷的定位问题（在前端还是服务端）。</li>
<li><strong>监控</strong>：擅长高并发的请求处理，做监控也是合适的选项。</li>
<li><strong>测试</strong>：在 BFF 层做 RESTFul api 测试，保证接口的可靠性。</li>
<li><strong>鉴权</strong>：有一个中间层去鉴权，也是一种单一职责的实现。</li>
<li><strong>路由</strong>：前端更需要掌握页面路由的权限和逻辑。</li>
<li><strong>服务端渲染</strong>：BFF（特指 Nodejs）的解决方案更灵活，比如 SSR、模板直出、页面做预渲染等。</li>
</ul>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190809194545.jpg" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h2 id="BFF-演化历程"><a href="#BFF-演化历程" class="headerlink" title="BFF 演化历程"></a>BFF 演化历程</h2><p>BFF 和网关（API Gateway）是微服务架构中两个重要概念，可以通过下面的例子讲解 BFF 的演化历程。</p>
<h3 id="服务化架构-V1"><a href="#服务化架构-V1" class="headerlink" title="服务化架构 V1"></a>服务化架构 V1</h3><p>实现单块应用的解构拆分，微服务初步完成，前端用户体验层主要是传统的服务端 Web 应用，服务化架构如下所示：</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730164530.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h3 id="服务化架构-V2"><a href="#服务化架构-V2" class="headerlink" title="服务化架构 V2"></a>服务化架构 V2</h3><p>随着无线应用的流行，除了 Web 应用外，服务还需要为新的无线原生 App 来提供接口和数据，先采用下面的服务架构：</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730165054.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p><strong>这样的架构的问题是：</strong></p>
<ul>
<li>无线 App 与内部为微服务强耦合。</li>
<li>无线 App 需要知道内部服务的地址等细节。</li>
<li>无线 App 需要对接口数据进行大量的聚合剪裁和适配逻辑。</li>
</ul>
<p>为了解决这些问题，<strong>引出了 v2.1 版本</strong>，在用户体验层和内部微服务层之间引入了 BFF 层，将后端的微服务进行适配，想用户体验层暴露有号和统一的 API，方便无线设备接入访问后端服务。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730165223.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p><strong>这种架构解决了上面的问题：</strong></p>
<ul>
<li>无线 App 与内部为微服务解耦，两边可以独立变化。</li>
<li>无线 App 只需要知道 BFF 的地址，并且服务接口统一，不需要关心内部复杂的微服务的地址和细节。</li>
<li>无线 App 需要不再需要聚合剪裁和适配逻辑，这些步骤都在 BFF 完成。</li>
</ul>
<p><strong>但是随着接入终端的增加，也会有一些问题：</strong></p>
<ul>
<li>BFF 只有一个，接入设备增加后导致要考虑匹配问题，团队之间沟通协调成本高。</li>
<li>BFF 中不仅包括了各个业务线的聚合剪裁、适配和业务逻辑，还需要引入很多跨横切面逻辑，比如安全认证、日志监控、限流熔断等，这些代码混在一起，导致代码复杂度提高。</li>
<li>BFF 如果出现错误，会导致所有应用都不可用。</li>
</ul>
<h3 id="微服务架构-V3"><a href="#微服务架构-V3" class="headerlink" title="微服务架构 V3"></a>微服务架构 V3</h3><p>为了解决 v2.1 产生的问题，在 v3 里引入 API Gateway（API 网关层）。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730165552.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p><strong>在这种架构下：</strong></p>
<ul>
<li>BFF 按团队和业务线进行解耦拆分，拆分成若干个 BFF 微服务，每个业务线并行开发和交付各自负责的 BFF 微服务。</li>
<li>网关，一般由独立的团队负责运维，专注跨横切面的功能，包括：<ul>
<li>路由：将来自无线设备的请求路由到后端的某个微服务 BFF 集群。</li>
<li>认证：对涉及敏感数据的 API 访问进行集中认证鉴权。</li>
<li>监控：对 API 调用进行性能监控。</li>
<li>限流熔断：网关能够进行限流熔断，保护后端服务。</li>
<li>安全防爬：收集访问日志，通过后台分析恶意行为，阻断恶意请求。</li>
</ul>
</li>
<li>网关在客户端与 BFF 之间又引入了一层，让两边可以独立变化。</li>
</ul>
<h3 id="微服务架构-V4"><a href="#微服务架构-V4" class="headerlink" title="微服务架构 V4"></a>微服务架构 V4</h3><p>可以对 V3 架构进行优化，将传统的服务端 Web 应用模式改为<strong>前后分离架构</strong>，前端采用 SPA 单页技术提供给用户更好体验，同时增加了下手是哪个第三方应用开放 API 的能力。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730165809.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>拓展新的接入渠道，形成了一个完成的现代微服务架构，从外到内依次为：<strong>端用户体验层 -&gt; 网关层 -&gt; BFF 层 -&gt; 微服务层。</strong></p>
<h2 id="BFF-具体实现"><a href="#BFF-具体实现" class="headerlink" title="BFF 具体实现"></a>BFF 具体实现</h2><p>BFF 改变了传统的开发结构，在前后端之间引入了一个新的一层，在实现上有一定的难度。</p>
<h3 id="细分力度"><a href="#细分力度" class="headerlink" title="细分力度"></a>细分力度</h3><p>要求把一个大后端拆分为多个小后端，有三种方式：</p>
<ul>
<li>用户体验级（UI）。</li>
<li>平台或端级（Web/PC/Android/iOS/小程序等）。</li>
<li>团队级（不同的部门/群组）。</li>
</ul>
<p>一般建议按照用户体验级来拆分。</p>
<h3 id="对接下游服务"><a href="#对接下游服务" class="headerlink" title="对接下游服务"></a>对接下游服务</h3><ol>
<li>如何对接多个技术栈不同的下游服务（微服务）？<ul>
<li>RPC/HTTP 协议调用。</li>
</ul>
</li>
<li>如何管理、组合调用后端的服务？<ul>
<li>借助 RXJava、Finagle 等事件机制来简化这些异步流程控制。</li>
<li>使用服务发现，服务注册等技术，自动管理与组合。</li>
</ul>
</li>
<li>某个调用失败时，如何保障可用性？<ul>
<li>在 BFF 层进行容错填充与检查，保障数据结构的完整性。</li>
</ul>
</li>
</ol>
<h3 id="复用问题"><a href="#复用问题" class="headerlink" title="复用问题"></a>复用问题</h3><p>当终端多时，就会出现复用的问题：</p>
<ul>
<li>拆分后，多个 BFF 间会产生冗余代码，这是不可避免的。</li>
<li>可以添加 API 网关层，将通用的后端逻辑（授权、认证、限流）放进去。</li>
<li>想消除冗余，又不想因为抽离可复用代码而导致 BFF 间紧耦合，所以就有了一种折衷的态度：<strong>容忍 BFF 间冗余、消除单 BFF 内冗余。</strong></li>
</ul>
<h2 id="蚂蚁财富的-BFF-实践"><a href="#蚂蚁财富的-BFF-实践" class="headerlink" title="蚂蚁财富的 BFF 实践"></a>蚂蚁财富的 BFF 实践</h2><p><strong>2016 年时</strong>，蚂蚁财富的汤尧对 BFF 在蚂蚁财富项目中的落地实践进行了介绍（<a href="https://v.youku.com/v_show/id_XMjQ4MTk1MTM0NA==.html" target="_blank" rel="noopener">相关演讲视频</a>）。</p>
<p>在引入 BFF 之前，蚂蚁财富的业务也遇到了上面提到的问题，主要是体验层API经常变化，导致开发效率低下。于是引入了 BFF，主要的目的是对数据进行：裁剪、格式化、聚合、编排。</p>
<p>一个理想的模型如下：</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730150019.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>在实际落地过程中，形成了如下的架构：</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730151240.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h3 id="解决了的问题"><a href="#解决了的问题" class="headerlink" title="解决了的问题"></a>解决了的问题</h3><p>他们在实战过程中，主要解决了一下几个问题：</p>
<h4 id="1-Nodejs-与-Java-通信"><a href="#1-Nodejs-与-Java-通信" class="headerlink" title="1. Nodejs 与 Java 通信"></a>1. Nodejs 与 Java 通信</h4><ul>
<li>数据：跨语言序列化协议 hessian。</li>
<li>服务：Node弱类型，Java强类型，如何调用？<br>主要是：<code>配置 Jar 包依赖 -&gt; 安装类库 -&gt; 配置 Consumer -&gt; 开发业务代码</code>。</li>
</ul>
<h4 id="2-多-App-适配"><a href="#2-多-App-适配" class="headerlink" title="2. 多 App 适配"></a>2. 多 App 适配</h4><ul>
<li>在 API 网关层处理多个 App 的通用的逻辑，比如错误码管理、数据一致性、免登、业务日志等。</li>
</ul>
<h4 id="3-数据聚合"><a href="#3-数据聚合" class="headerlink" title="3. 数据聚合"></a>3. 数据聚合</h4><ul>
<li>传给客户端需要的数据，简化客户端逻辑，减少网络开销。</li>
<li>避免无意义的透传。</li>
<li>敏感信息过滤。</li>
</ul>
<h4 id="4-接口设计准则"><a href="#4-接口设计准则" class="headerlink" title="4. 接口设计准则"></a>4. 接口设计准则</h4><ul>
<li>基础服务接口<ul>
<li>细粒度。</li>
<li>通用的功能，可能会被多个BFF用到。</li>
<li>提供含各种状态的mock真实数据，易于同步开发（如何实现？）。</li>
</ul>
</li>
<li>BFF API 设计<ul>
<li>合理设计接口数量，太多不易维护。</li>
<li>提供含各种状态的 mock 真实数据，页面不依赖 server 开发。</li>
<li>多协议发布（如何实现？）。</li>
<li>规范数据格式。</li>
</ul>
</li>
</ul>
<h4 id="5-从技术角度来看"><a href="#5-从技术角度来看" class="headerlink" title="5. 从技术角度来看"></a>5. 从技术角度来看</h4><ul>
<li>前端和 BFF 由同一人完成。</li>
<li>前端需要具备服务端技能（Nodejs、Nginx）。</li>
<li>快速的应用发布能力（Docker）。</li>
</ul>
<h2 id="TWA-的理念与实践"><a href="#TWA-的理念与实践" class="headerlink" title="TWA 的理念与实践"></a>TWA 的理念与实践</h2><p>在 2018 年的 SEE Conf，蚂蚁金服的不四（知乎 ID：死马）对在 BFF 基础上发展出来的 TWA（Techless Web Application）开发体系进行了介绍。（<a href="https://v.youku.com/v_show/id_XMzMwMzc2NDg0OA==.html" target="_blank" rel="noopener">相关演讲视频</a>）。</p>
<p>传统的分层，如下。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730153259.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>BFF 负责聚合底层业务数据，给客户端提供接口，秉承谁使用谁维护的理念，一般由前端团队维护。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730153304.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>业务实际上分为三层：</p>
<ul>
<li>前端（React/ES6/Sass）。</li>
<li>BFF（Nodejs 接口聚合层）。</li>
<li>后端服务（Java）。</li>
</ul>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730153516.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>BFF on Chari 是蚂蚁自研的，基于 Eggjs 的 BFF 框架，打通了 Nodejs 到 Java 的 RPC 通信链路。Eggjs 已经开源（Eggjs 是以 Koa2 作为基础框架），可以基于 Eggjs 去打造属于自己的 BFF 框架。</p>
<p><strong>BFF 不是银弹，有着自己的问题：</strong></p>
<ul>
<li>研发成本上升：前端团队既要开发客户端，又要开发 BFF，人手不够。</li>
<li>流程繁琐：BFF 引入后，要同时走前端、后端的研发流程，多端发布、互相依赖，流程繁琐。</li>
<li>运维经验不足：主要是前端工程师运维经验不足（给业务团队带来了很大困扰）。</li>
</ul>
<p>尽管职责划分越来越清晰，但是由于前后端发布系统不一致，前端团队仍需要在基于不同的代码仓库进行研发，走不同的发布流程。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730154210.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>蚂蚁金服推出的解决方案 TWA（Techless Web Application），是一个全栈的研发框架。</p>
<p>TWA 是以提升开发者研发体验为核心的渐进式解决方案，给 H5 App 开发者 提供从框架、研发流程到运行时的完整支持。此处的 Techless 并不意味着它是一个没有技术含量的解决方案，而是我们期望让产品研发可以更好的关注在产品实现上，不用过于关注“应用”、“构建”、“部署”、“流程”等细节。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730154651.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>在 TWA 解决方案下，H5 App 的开发者只需要在一个代码仓库下，基于 TWA 提供的框架，完成客户端和 BFF 层的研发，通过 Basement 研发平台提供的流程支持，一键将应用部署到各个运行终端，同时在研发平台上完成应用的自助运维和监控。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730154656.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<h2 id="BFF-下-Nodejs-与-Java-的通信"><a href="#BFF-下-Nodejs-与-Java-的通信" class="headerlink" title="BFF 下 Nodejs 与 Java 的通信"></a>BFF 下 Nodejs 与 Java 的通信</h2><p>与使用的微服务框架有关，可以采用 HTTP 的方式，也可以通过 RPC 调用。</p>
<h3 id="蚂蚁金服的实践-RPC"><a href="#蚂蚁金服的实践-RPC" class="headerlink" title="蚂蚁金服的实践 - RPC"></a>蚂蚁金服的实践 - RPC</h3><ul>
<li>数据：跨语言序列化协议 hessian。</li>
<li>服务：Nodejs PRC。</li>
</ul>
<p>开源框架：</p>
<ul>
<li>sofa-bolt-node：蚂蚁通讯协议 Bolt 的 Nodejs 实现。</li>
<li>sofa-rpc-node：一个通用的 Nodejs RPC 模块。</li>
</ul>
<h3 id="有赞的实践-HTTP"><a href="#有赞的实践-HTTP" class="headerlink" title="有赞的实践 - HTTP"></a>有赞的实践 - HTTP</h3><p>有赞的实践再 BFF 上使用了 Nodejs + Java + Tether 的结构。</p>

        <figure class="image-bubble">
            <div class="img-lightbox">
                <div class="overlay"></div>
                <img src="/assets/image/2019/8/20190730155905.png" alt title>
            </div>
            <div class="image-caption"></div>
        </figure>
    
<p>在 Nodejs 和 Java 之间添加了一层中间代理层 Tether。Tether 是用 Go 语言写的一个本地代理，Tether 会对外暴露一个 HTTP 的服务，对Nodejs 来说，只需要通过 HTTP 方式调用本地的服务即可。其他服务化相关的服务发现、协议解析、负载均衡、长链建立维护都交由 Tether 来处理。</p>
<p>这样，Nodejs 这一层就非常轻量了，Nodejs 调用 Java 服务时：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Service = <span class="built_in">require</span>(<span class="string">'@/service/base/BaseService'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GoodsService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 根据商品 alias 获取商品详情</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param  <span class="type">&#123;String&#125;</span> </span>alias 商品 alias</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">async</span> getGoodsDetailByAlias(alias) &#123;</span><br><span class="line">        <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="keyword">this</span>.invoke(</span><br><span class="line">            <span class="comment">// java 包</span></span><br><span class="line">            <span class="string">'com.youzan.ic.service.GoodsService'</span>,</span><br><span class="line">            <span class="comment">// 方法名</span></span><br><span class="line">            <span class="string">'getGoodsDetailByAlias'</span>,</span><br><span class="line">            <span class="comment">// 参数</span></span><br><span class="line">            [alias],</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = GoodsService;</span><br></pre></td></tr></table></figure>
<p><strong>这种方式的优点：</strong></p>
<ul>
<li>使用简单，对前端开发非常友好，只需要通过 HTTP 方式调用本地的 Tether 服务即可。</li>
<li>多语言接入成本低，后期如果有其他语言（Python、Ruby）也需要接入整个服务化体系，也像 Nodejs 一样，它们都只需要调用本地 Tether 暴露的 HTTP 服务即可，没有额外的开发成本了。</li>
<li>后期更方便做协议层的优化，因为这种方式 Tether 其实就是一个代理，后期如果需要做协议层性能上的优化，那只需要优化 Tether 的性能就可以了。</li>
</ul>
<p>当然也有缺点：</p>
<ul>
<li>引入了 Tether 多一个服务，多一份运维成本。</li>
<li>技术实现难度比较高。</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>BFF 并不是永恒的<strong>银弹</strong>，能解决一定的问题，同时也会引入一些新的问题。</p>
<p><strong>BFF 的优势：</strong></p>
<ul>
<li>对于团队来说：<ul>
<li>业务支持变多，异构化。</li>
<li>业务层更加的细粒度。</li>
<li>沟通协作变少。</li>
<li>解决问题变快。</li>
<li>数据由前端自控。</li>
</ul>
</li>
<li>对于个人来说：<ul>
<li>更合理分工。</li>
<li>做 BFF 可以拓展知识面。</li>
<li>迎接更多的挑战。</li>
</ul>
</li>
</ul>
<blockquote>
<p>抛开话题只谈优点不谈缺点的都是耍流氓。</p>
</blockquote>
<p><strong>BFF 的缺点：</strong></p>
<ul>
<li>结构决定了架构的复杂度。</li>
<li>对于初创的团队来说，前期有一定的学习成本，特别是前端团队。</li>
<li>在期初执行阶段会成为资源瓶颈，在后期会体现出其巨大的价值。</li>
<li>需要专人负责 BFF 建设，给前端带来额外的工作量。</li>
<li>部署、运维需要额外的成本，主要是 Nodejs 的部署。</li>
<li>在 BFF 里也需要编写一份 api 文档。</li>
</ul>
<blockquote>
<p>BFF 可以与 Graphql 结合，解决了文档维护上的问题。</p>
</blockquote>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://samnewman.io/patterns/architectural/bff/" target="_blank" rel="noopener">Pattern: Backends For Frontends !</a></li>
<li><a href="https://www.zhihu.com/question/264563447" target="_blank" rel="noopener">为什么互联网公司开始用 Nodejs 做 web 服务的中间件？有什么好处吗？</a></li>
<li><a href="https://www.jianshu.com/p/eb1875c62ad3" target="_blank" rel="noopener">Backend For Frontend</a></li>
<li><a href="https://v.youku.com/v_show/id_XMjQ4MTk1MTM0NA==.html" target="_blank" rel="noopener">蚂蚁财富的 BFF 实践</a></li>
<li><a href>微服务架构：BFF 和网关是如何演化出来的？</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/33676619" target="_blank" rel="noopener">前后端分离演进：不能微服务，那就使用 BFF 隔离</a></li>
<li><a href="https://v.youku.com/v_show/id_XMzMwMzc2NDg0OA==.html" target="_blank" rel="noopener">Techless Web Application 的理念与实践 — 不四</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/32219319" target="_blank" rel="noopener">Developer Experience First —— TWA 的理念与实践</a></li>
<li><a href="https://juejin.im/post/5b0388006fb9a07aa213ae16" target="_blank" rel="noopener">Nodejs 在有赞的实践</a></li>
<li><a href="https://www.yuque.com/egg/nodejs/dklip5" target="_blank" rel="noopener">聊聊 Node.js RPC（一）— 协议</a></li>
<li><a href="https://www.yuque.com/egg/nodejs/mhgl9f" target="_blank" rel="noopener">聊聊 Node.js RPC（二）— 服务发现</a></li>
<li><a href="https://www.zhihu.com/question/330175750/answer/758155413" target="_blank" rel="noopener">2019 国内公司前端团队都在搞些什么？</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/43271451" target="_blank" rel="noopener">蚂蚁金服玉伯：我们是如何从前端技术进化到体验科技的？</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2021-06-15T06:10:52.907Z" itemprop="dateUpdated">2021年6月15日 14:10</time>
</span><br>


        <br /><b style="color:#f66">版权声明</b> - Lizhooh，未经允许禁止转载！！！经允许的请声明：<div style='height:8px'></div><b>作者</b>：Lizhooh 未来是全栈工程师<br /><b>原文</b>：<a href="/stories/2019/08/前端/谈谈 BFF 技术架构/" target="_blank" rel="external">http://me.lizhooh.com/stories/2019/08/前端/谈谈 BFF 技术架构/</a>
    </div>
    <footer>
        <a href="http://me.lizhooh.com">
            <img src="/img/my.png" alt="Lizhooh">
            Lizhooh
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>


            


        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/stories/2019/08/React Native/Socket/React Native + Socket.io 开发实时应用/" id="post-prev" class="post-nav-link">
        <!-- <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> 上一篇</div> -->
        <h4 class="title">React Native + Socket.io 开发实时应用</h4>
        <h4 class="summary">接入 Socket.io在 React Native 上接入 Socket.io 有些 BUG，因此需要特定的版本。 具...</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/stories/2019/07/React/Hooks/React Hooks 分享/" id="post-next" class="post-nav-link">
        <!-- <div class="tips">下一篇 <i class="icon icon-angle-right icon-lg icon-pl"></i></div> -->
        <h4 class="title">React Hooks 分享</h4>
        <h4 class="summary">React v16.8 已经推出，hooks 的支持相对也比较好，从今年开始 hooks 已经开始大量的应用了包括了 R...</h4>
      </a>
    </div>
  
</nav>



    
</article>



</div>

        <footer class="footer">
    <div class="top">
        <p>
            <span><i class="icon icon-lg icon-rss"></i></span>
            <span>博客内容属于原创创作，未授权转载者必追究其法律责任。</span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>
                对酒当歌，人生几何！
                <i class="icon icon-heart-o" style="font-weight: bold;"></i>
                Lizhooh 的技术博客 &copy; 
                2016 - 2021

                <!--Power by <a href="http://hexo.io/" target="_blank">Hexo</a>-->
             </span>
        </p>


    </div>
</footer>

    </main>

    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


    <!--<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>-->
<script>
var BLOG = { ROOT: '/', SHARE: false, REWARD: false };
</script>

<script src="//lib.baomitu.com/tippy.js/3.0.2/tippy.all.min.js"></script>
<script src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/waves.min.js"></script>
<script src="/js/rest.js"></script>
<script src="/js/main.min.js?v=2.2.0"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script async src="/js/search.min.js?v=2.2.0"></script>





    <div class="music" id="music"></div>
</body>
</html>
